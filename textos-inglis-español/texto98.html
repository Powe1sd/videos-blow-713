<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exclusión social de personas en situación de sinhogarismo</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <a href="texto99.html" class="redirectButton">Siguiente</a>
    <a href="texto97.html" class="goBackButton">Retroceder</a>

    <a href="../Inglish-free.html">
      <button class="inicio">INICIO</button>
    </a>

    <h1 class="tecnologia">
      Exclusión social de personas en situación de sinhogarismo
    </h1>

    <div id="textContainer">
      <div class="paragraph-container" id="englishText">
        <h2 class="inglish">English</h2>
        <p data-start="0">
          Social exclusion of individuals experiencing homelessness remains a
          pervasive issue, often resulting from systemic failures in housing,
          employment, and support services.
        </p>

        <p data-start="10">
          Homelessness not only deprives individuals of shelter but also
          exacerbates their vulnerability to health risks, violence, and social
          isolation.
        </p>

        <p data-start="19">
          Addressing homelessness requires multifaceted approaches that combine
          housing assistance, mental health support, and community outreach to
          provide individuals with the resources they need to rebuild their
          lives and reintegrate into society.
        </p>
      </div>

      <div class="paragraph-container" id="spanishText">
        <h2 class="español">Español</h2>
        <p data-start="0">
          La exclusión social de personas que experimentan sinhogarismo sigue
          siendo un problema pervasivo, muchas veces resultado de fallos
          sistémicos en la vivienda, el empleo y los servicios de apoyo.
        </p>

        <p data-start="10">
          La falta de hogar no solo priva a las personas de refugio, sino que
          también aumenta su vulnerabilidad a riesgos de salud, violencia y
          aislamiento social.
        </p>

        <p data-start="19">
          Abordar el sinhogarismo requiere enfoques multifacéticos que combinen
          asistencia en vivienda, apoyo en salud mental y alcance comunitario
          para proporcionar a las personas los recursos necesarios para
          reconstruir sus vidas y reintegrarse en la sociedad.
        </p>
      </div>
    </div>

    <div id="audioContainer">
      <audio id="audio" controls>
        <source src="audios/texto98.mp3" type="audio/mpeg" />
        Tu navegador no soporta el elemento de audio.
      </audio>
    </div>

    <script>
      const textContainer = document.getElementById("textContainer");
      const audio = document.getElementById("audio");
      const englishParagraphs = document.querySelectorAll("#englishText p");
      const spanishParagraphs = document.querySelectorAll("#spanishText p");

      audio.addEventListener("timeupdate", function () {
        let currentTime = audio.currentTime;

        // Iterar a través de cada línea de texto en inglés
        englishParagraphs.forEach((line, index) => {
          let startTime = parseFloat(line.getAttribute("data-start"));
          let endTime = parseFloat(
            index + 1 < englishParagraphs.length
              ? englishParagraphs[index + 1].getAttribute("data-start")
              : audio.duration
          );

          // Comprobar si el tiempo actual está dentro del rango de esta línea
          if (currentTime >= startTime && currentTime < endTime) {
            // Resaltar la línea actual en inglés
            line.classList.add("highlight-english");
          } else {
            line.classList.remove("highlight-english");
          }
        });

        // Iterar a través de cada línea de texto en español
        spanishParagraphs.forEach((line, index) => {
          let startTime = parseFloat(line.getAttribute("data-start"));
          let endTime = parseFloat(
            index + 1 < spanishParagraphs.length
              ? spanishParagraphs[index + 1].getAttribute("data-start")
              : audio.duration
          );

          // Comprobar si el tiempo actual está dentro del rango de esta línea
          if (currentTime >= startTime && currentTime < endTime) {
            // Resaltar la línea actual en español
            line.classList.add("highlight-spanish");
          } else {
            line.classList.remove("highlight-spanish");
          }
        });
      });
    </script>
  </body>
</html>
